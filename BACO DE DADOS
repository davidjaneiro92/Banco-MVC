
CREATE DATABASE FACUDADE;

USE FACUDADE;

CREATE TABLE MATRICULA(
COD_RA  				INT(15) NOT NULL AUTO_INCREMENT,
COD_TURMA				INT (15),
DATA_MATRICULA			DATE NOT NULL,
DATA_CANCELAMENTO		DATE,
CONSTRAINT PK_COD_RA PRIMARY KEY (COD_RA),
CONSTRAINT FK_TURMA 
FOREIGN KEY (COD_TURMA) REFERENCES TURMA (COD_TURMA)
);

CREATE TABLE ALUNO(
COD_RA					INT(15) NOT NULL,
NOME					VARCHAR (60) NOT NULL,
SEXO					CHAR(1) NOT NULL,
CONSTRAINT FK_NUMERO_RA 
FOREIGN KEY (COD_RA) REFERENCES MATRICULA (COD_RA)
);
	
CREATE TABLE TURMA(	
COD_TURMA				INT (15) NOT NULL AUTO_INCREMENT,
COD_OFERECIDA			INT (15) NOT NULL,
DATA_INÍCIL				DATE NOT NULL,
DATA_TÉRMINO			DATE NOT NULL,
CONSTRAINT PK_COD_TURMA PRIMARY KEY (COD_TURMA),
CONSTRAINT FK_OFERECIDA 
FOREIGN KEY (COD_OFERECIDA) REFERENCES OFERECIDA (COD_OFERECIDA)
);

CREATE TABLE OFERECIDA(
COD_OFERECIDA			INT (15) NOT NULL AUTO_INCREMENT,
COD_RA					INT(15) NOT NULL,
COD_DICIPLINA			INT (15) NOT NULL,
COD_MATRICULA			INT (15) NOT NULL,
SALA					INT (4) NOT NULL,
BLOCO					VARCHAR(10),
CONSTRAINT PK_COD_OFERECIDA PRIMARY KEY (COD_OFERECIDA),
CONSTRAINT FK_AVALICAO
FOREIGN KEY (COD_RA) REFERENCES AVALIACAO (COD_RA),
CONSTRAINT FK_DICIPLINA 
FOREIGN KEY (COD_DICIPLINA) REFERENCES DICIPLINA (COD_DICIPLINA),
CONSTRAINT FK_PROFESSOR
FOREIGN KEY (COD_MATRICULA) REFERENCES PROFESSOR (COD_MATRICULA)
);

CREATE TABLE DICIPLINA(
COD_DICIPLINA				INT (15) NOT NULL AUTO_INCREMENT,
COD_OFERECIDA				INT (15) NOT NULL,
NOME						VARCHAR(50) NOT NULL,
CONSTRAINT PK_COD_DICIPLINA PRIMARY KEY (COD_DICIPLINA)
);

CREATE TABLE PROFESSOR(
COD_MATRICULA				INT (15) NOT NULL AUTO_INCREMENT,
COD_OFERECIDA				INT (15) NOT NULL,
COD_DICIPLINA				INT (15) NOT NULL,
COD_TURMA					INT (15) NOT NULL,
NOME 						VARCHAR (60) NOT NULL,
CONSTRAINT PK_COD_MATRICULA PRIMARY KEY (COD_MATRICULA)
);

CREATE TABLE AVALIACAO(
COD_RA				INT(15) NOT NULL,
A1					INT (2),
A2					INT (2),
AF					INT (2),
CONSTRAINT PK_COD_RA PRIMARY KEY (COD_RA),	
CONSTRAINT FK_ALALIACAO_RA 
FOREIGN KEY (COD_RA) REFERENCES ALUNO (COD_RA)
);